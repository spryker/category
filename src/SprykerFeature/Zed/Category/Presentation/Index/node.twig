{% macro node_item(item) %}
    {% import _self as tree %}
    <li class="dd-item" id="node-{{ item.id }}">
        <div class="dd-handle">{{ item.text }}
            <div class="pull-right">
                {% set category_active = 'Inactive' %}
                {% set category_in_menu = 'Not in Menu' %}
                {% set category_clickable = 'Not Clickable' %}

                {% if item.is_active == '1' %}
                    <span class="label" title="Active">A</span>
                {% else %}
                    <span class="label" title="Inactive" style="background-color: slategray !important">A</span>
                {% endif %}

                {% if item.is_in_menu == '1' %}
                    <span class="label" title="In Menu">M</span>
                {% else %}
                    <span class="label" title="Not in Menu" style="background-color: slategray !important">M</span>
                {% endif %}

                {% if item.is_clickable == '1' %}
                    <span class="label" title="Clickable">C</span>
                {% else %}
                    <span class="label" title="Not clickable" style="background-color: slategray !important">C</span>
                {% endif %}

                {% if item.children is defined and item.children|length > 0 %}
                <a href="/category/node/view?id-node={{ item.id }}" id="node-{{ item.id }}" class="btn btn-xs btn-success">
                    <i class="fa fa-sitemap"></i>
                </a>
                {% endif %}
                <a href="/productCategory/add?id-parent-node={{ item.id }}" class="btn btn-xs btn-success"><i class="fa fa-plus"></i></a>
                <a href="/productCategory/edit?id-category={{ item.id_category }}" class="btn btn-xs btn-primary">
                    <i class="fa fa-pencil"></i>
                </a>
            </div>
        </div>
        {% if item.children is defined and item.children|length > 0 %}
            {{ tree.node(item.children) }}
        {% endif %}
    </li>
{% endmacro %}

{% macro node(items) %}
    {% import _self as tree %}
    <ol class="dd-list">
        {% for item in items %}
            {{ tree.node_item(item) }}
        {% endfor %}
    </ol>
{% endmacro %}

{% import _self as tree %}

{{ tree.node(categories) }}
