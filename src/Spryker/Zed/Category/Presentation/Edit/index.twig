{% extends '@Gui/Layout/layout.twig' %}

{% if widget_title is not defined %}
    {% set widget_title = 'Edit category' | trans %}
{% endif %}

{% form_theme categoryForm with [
    '@Category/_partials/category-image-set-theme.twig',
    '@Category/_partials/category-image-collection-theme.twig',
]%}

{% block section_title %}{{ widget_title }}{% endblock %}

{% block action %}
    {{ viewActionButton('/product-category/assign?id-category='~idCategory, 'Assign products' | trans) }}
    {{ viewActionButton('/category/view?id-category='~idCategory, 'View' | trans) }}
    {{ backActionButton('/category/root', 'List of categories' | trans) }}
{% endblock %}

{% block content %}

    {% embed '@Gui/Partials/widget.twig' %}
        {% block widget_content %}

            {{ form_start(categoryForm) }}
                {% do categoryForm.localized_attributes.setRendered %}
                {% do categoryForm.formImageSets.setRendered %}
            {{ tabs(categoryFormEditTabs, {
                'categoryForm': categoryForm,
                'currentLocale': currentLocale,
                'localeCollection': localeCollection
            }) }}

                <hr />
            {{ form_end(categoryForm) }}

        {% endblock %}

    {% endembed %}

{% endblock %}

{% block head_css %}
    {{ parent() }}
    <link rel="stylesheet" href="/assets/css/spryker-zed-category-main.css" />
{% endblock %}

{% block footer_js %}
    {{ parent() }}
    <script src="/assets/js/spryker-zed-category-main.js"></script>
    <script src="/assets/js/spryker-zed-cms-block-category-connector-main.js"></script>
{% endblock %}

